名字: 居里

在:
推:
分支: [ stable/v3 ]
query为空pull_request:
分支: [ stable/v3 ]

工作:
releaseJar:
    runs-on: ubuntu-latest
步骤:
      - 用途: actions/checkout@v2
      - 用途: actions/setup-java@v1
与:
          java-version: 8

      - 名字: gradle/缓存
用途: actions/cache@v1
与:
路径: ~/.gradle/caches
键: ${{ runner.os }}-等级-${{ hashFiles('**/*.gradle*') }}
          restore-keys: ${{ runner.os }}-gradle-

      - 名字: Cache .gradle/wrapper
用途: actions/cache@v1
与:
路径: ~/.gradle/wrapper
键: ${{ runner.os }}-gradle-wrapper-${{ hashFiles('**/*.gradle') }}
          restore-keys: ${{ runner.os }}-gradle-wrapper-

      - 名字: 授予gradlew的执行权限
跑: chmod + x gradlew

# - name: Build with Gradle
# run: ./gradlew clean build -s

      # 第一次构建
      - 名字: 建筑
身份证: build_1
跑: ．／gradlew build
      # 第二次构建
      - 名字: 构建（重试1）
身份证: build_2
如果: steps.build_1.outcome =='failure'
跑: ．／gradlew build
       # 第三次构建
      - 名字: 构建（重试2）
身份证: build_3
如果: steps.build_2.outcome =='failure'
跑: ．／gradlew build
       # 第四次构建
      - 名字: 构建（重试3）
身份证: build_4
如果: steps.build_3.outcome =='failure'
跑: ．／gradlew build

      - 名字: 上传工件
用途: actions/upload-artifact@v2
与:
名字: TrMenu伪影
路径: build/libs/*.jar
